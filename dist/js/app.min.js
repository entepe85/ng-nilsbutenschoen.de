angular.module("nilsAnimations",["ngAnimate"]);var nilsApp=angular.module("nilsApp",["ngRoute","ngSanitize","ngAnimate","uiGmapgoogle-maps","viewhead","nilsServices","angular-loading-bar"]).config(["cfpLoadingBarProvider",function(t){"use strict";t.includeSpinner=!1}]);nilsApp.config(["$routeProvider",function(t){"use strict";t.when("/",{templateUrl:"partials/home.html",controller:"PageCtrl"}).when("/music",{templateUrl:"partials/music.html",controller:"PageCtrl"}).when("/vita",{templateUrl:"partials/vita.html",controller:"VitaPageCtrl"}).when("/contact",{templateUrl:"partials/contact.html",controller:"PageCtrl"}).when("/blog",{templateUrl:"partials/blog.html",controller:"BlogCtrl"}).when("/blog/posts/:postSlug",{templateUrl:"partials/blog_post.html",controller:"BlogPostCtrl"}).when("/blog/tags/:tagName",{templateUrl:"partials/category_list.html",controller:"CatListCtrl"}).otherwise({templateUrl:"partials/404.html",controller:"PageCtrl"})}]),nilsApp.controller("nilsCtrl",["$scope","$timeout",function(t,e){"use strict";t.openNav=function(){angular.element("#sidebar").addClass("open")},t.closeNav=function(){angular.element("#sidebar").removeClass("open")},t.$on("$routeChangeSuccess",function(){e(function(){angular.element("#sidebar").hasClass("open")&&angular.element("#sidebar").removeClass("open")},250)})}]),nilsApp.controller("BlogCtrl",["$scope","Blog",function(t,e){"use strict";t.posts=e.query()}]),nilsApp.controller("BlogPostCtrl",["$scope","$routeParams","$http","$location","Blog",function(t,e,l,o,r){"use strict";t.post=r.get({postSlug:e.postSlug}),t.postUrl=o.absUrl(),l.get("blog/html/"+e.postSlug+".html").success(function(e){t.postHtml=e})}]),nilsApp.controller("CatListCtrl",["$scope","$routeParams","CatList","$filter",function(t,e,l,o){"use strict";l.list(function(l){t.catposts=o("filter")(l,{tags:e.tagName})}),t.tag=e.tagName}]),nilsApp.controller("PageCtrl",["$scope",function(t){"use strict";t.map={center:{latitude:54.391528,longitude:10.173766},zoom:12}}]),nilsApp.controller("VitaPageCtrl",["$scope","$filter","Vita",function(t,e,l){"use strict";l.query(function(l){t.skills=e("filter")(l,{type:"skill"}),t.experience=e("filter")(l,{type:"experience"}),t.education=e("filter")(l,{type:"education"})})}]),nilsApp.controller("NavCtrl",["$scope","$location","cfpLoadingBar",function(t,e,l){"use strict";t.items=[{path:"/music",title:"Musik"},{path:"/vita",title:"Vita"},{path:"/contact",title:"Kontakt"},{path:"/blog",title:"Blog"}],t.isActive=function(t){return t.path===e.path()?!0:!1},t.$on("$routeChangeStart",function(){l.start()}),t.$on("$routeChangeSuccess",function(){l.complete()})}]);var nilsServices=angular.module("nilsServices",["ngResource"]);nilsServices.factory("Blog",["$resource",function(t){"use strict";return t("blog/:postSlug.json",{},{query:{method:"GET",params:{postSlug:"posts"},isArray:!0}})}]),nilsServices.factory("CatList",["$resource",function(t){"use strict";return t("blog/posts.json",{},{list:{method:"GET",isArray:!0}})}]),nilsServices.factory("Vita",["$resource",function(t){"use strict";return t("vita/skills.json",{},{})}]);